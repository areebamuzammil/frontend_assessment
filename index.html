<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comment Section</title>
    <!-- Bootstrap CSS (Bootstrap 5) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">
    <!-- Custom CSS -->
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <!-- Bootstrap Font Icon CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <style>
        body {
            background-color: #EEF2F7;
            font-family: 'Poppins';
        }
        .comment {
            margin-left: 20px;
            display: flex;
            align-items: center;
        }
        .heart-button {
            background-color: transparent;
            border: none;
            cursor: pointer;
        }
        .heart-active {
            color: #E33E38; /* Active color */
            color: rgb(255, 0, 0);
            font-size: x-large;
            
        }
        .btn:focus {
    outline: 0;
    box-shadow: none!important;
}
        .counter {
            margin-left: 10px;
            margin-top: -3px;
        }
        .bubu{
            position: absolute;
            top: 0;
            right: 22px;
            z-index: 2;
            border: none;
            top: 18px;
            height: 28px;
            cursor: pointer;
            color: white;
            background-color: #EEF2F7;
            transform: translateX(2px);
        }
    </style>
</head>
<body>
    <div class="container">
        
        <section >
            
            <div class="container my-3 py-3 ">
              <div class="row d-flex justify-content-center">
                <div class="col-md-7">
                  <h4 style="font-weight:950;">Comments</h4>
                  <div class="card shadow-sm rounded-0" >
                    <div class="card-body " >
                      <span class="d-flex flex-start align-items-center" >
                        <img class="rounded-circle shadow-1-strong me-3"
                        src="images/user1.png" alt="avatar" width="40"
                          height="40" />
                          <h6 class="fw-bold mb-1" style="margin-left: -6px; margin-top: -15px;">Maria</h6>
                      </span>
                      <p class=" mb-2 pb-1 ps-5" style="margin-top: -15px; color: #646464;">
                        I was very glad to have you after such a long time. Can you plan a meetup? Maybe this weekend?
                      </p>

                        <button class="heart-button ps-5" id="heart-button"  onclick="toggleHeart(1)">
                        <i id="heart-icon-1" class="bi bi-suit-heart"></i>
                        </button>
                        <span style="margin-left: -5px; font-size: small;" id="heart-count-1" class="counter " id="counter"> 0 
                        </span>
                        <span>&nbsp; &nbsp; • 
                            <button class="btn btn-link" style="font-size: 15px; text-decoration:none; margin-top: -3px;" id="dd-1" onclick="addBox(1,this)" >Reply</button></span>
                            <div id="replyhere-1" >
                                <!-- replies will be displayed here -->
                            </div>

                            <div class="addhere" id="reply-1">
                                    <!-- add bar -->
                            </div>
                    </div>
                  </div>

                  <div class="card shadow-sm rounded-0" style="margin-top: 10px;" >
                    <div class="card-body " >
                      <span class="d-flex flex-start align-items-center" >
                        <img class="rounded-circle shadow-1-strong me-3"
                        src="images/user2.png" alt="avatar" width="40"
                          height="40" />
                          <h6 class="fw-bold mb-1" style="margin-left: -6px; margin-top: -15px;">Alex Benjamin</h6>
                      </span>
                      <p class=" mb-2 pb-1 ps-5" style="margin-top: -15px;color: #646464;">
                        Home sweet home! I'm glad you are back. It's been two year and miss the football matches we have together. A lot has been changed since you left. Let's meet at the ground tomorrow evening?
                      </p>

                        <button class="heart-button ps-5" id="heart-button" onclick="toggleHeart(2)">
                        <i id="heart-icon-2" class="bi bi-suit-heart"></i>
                        </button>
                        <span style="margin-left: -5px; font-size: small; " id="heart-count-2" class="counter " id="counter"> 0 
                        </span>
                        <span>&nbsp; &nbsp; • 
                            <button class="btn btn-link" style="font-size: 15px; text-decoration:none; margin-top: -3px;" id="dd-2" onclick="addBox(2,this)" >Reply</button></span>
                            <div id="replyhere-2">
                                <!-- replies will be displayed here -->
                            </div>
                            <div class="addhere" id="reply-2">
                                    <!-- add bar -->
                            </div>
                    </div>
                  </div>

                  <div class="card shadow-sm rounded-0" style="margin-top: 10px;" >
                    <div class="card-body " >
                      <span class="d-flex flex-start align-items-center" >
                        <img class="rounded-circle shadow-1-strong me-3"
                        src="images/user3.png" alt="avatar" width="40"
                          height="40" />
                          <h6 class="fw-bold mb-1" style="margin-left: -6px; margin-top: -15px;">Tania</h6>
                      </span>
                      <p class=" mb-2 pb-1 ps-5" style="margin-top: -15px;color: #646464;">
                        Hey bud, welcome back to home. It's so long to see you back again. Would love to hear the travelling stories of yours. Your or my place?
                      </p>

                        <button class="heart-button ps-5" id="heart-button" onclick="toggleHeart(3)">
                        <i id="heart-icon-3" class="bi bi-suit-heart"></i>
                        </button>
                        <span style="margin-left: -5px; font-size: small; " id="heart-count-3" class="counter " id="counter"> 0 
                        </span>
                        <span>&nbsp; &nbsp; • 
                            <button class="btn btn-link" style="font-size: 15px; text-decoration:none; margin-top: -3px;" id="dd-3" onclick="addBox(3,this)" >Reply</button></span>
                            <div id="replyhere-3">
                                <!-- replies will be displayed here -->
                            </div>
                            <div class="addhere" id="reply-3">
                                <!-- add bar -->
                            </div>
                    </div>
                  </div>

                  <div id="comments1">
                    <!-- Comments will be displayed here -->
                </div>

                  <div class="card shadow-sm rounded-0" style="margin-top: 10px;" >
                    <div class="card-body buttonIn" >
                        
                        <input id="comment" style=" background-color : #EEF2F7; border:none;" type="text" class="form-control" placeholder="Write your comment " >
                        <button class="bubu" type="submit" onclick="addComment1()">
                            <img src="images/send.svg" />
                          </button>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </section>


    <!-- Bootstrap JS and jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
       
        let heartState = {}; // Object to store the state of each heart button
        var cc=3;

        // Function to toggle the heart button state
        function toggleHeart(buttonId) {
            if (!heartState[buttonId]) {
                // Button is not liked, so like it
                document.getElementById(`heart-icon-${buttonId}`).style.color = "#E33E38";
                document.getElementById(`heart-icon-${buttonId}`).className = "bi bi-suit-heart-fill";
                heartState[buttonId] = true;
                incrementCount(buttonId);
            } else {
                // Button is liked, so unlike 
                document.getElementById(`heart-icon-${buttonId}`).style.color = "#646464";
                document.getElementById(`heart-icon-${buttonId}`).className = "bi bi-suit-heart";
                
                heartState[buttonId] = false;
                decrementCount(buttonId);
            }
        }

        // Function to increment the count
        function incrementCount(buttonId) {
            const countElement = document.getElementById(`heart-count-${buttonId}`);
            countElement.textContent = parseInt(countElement.textContent) + 1;
        }

        // Function to decrement the count
        function decrementCount(buttonId) {
            const countElement = document.getElementById(`heart-count-${buttonId}`);
            countElement.textContent = parseInt(countElement.textContent) - 1;
        }


        function addComment1() {
            const name="Jhone Doe";
            const commentText = document.getElementById("comment").value;
            if (commentText === "") {
                //alert("Please enter your comment.");
                return;
            }

            const commentDiv = document.createElement("div");
            commentDiv.className = "comment ";
            cc++;

            const commentHTML = `
                <div class="card shadow-sm rounded-0" style="margin-top: 10px; margin-left: -20px; width:1000px;" >
                    <div class="card-body " >
                      <span class="d-flex flex-start align-items-center" >
                        <img class="rounded-circle shadow-1-strong me-3"
                        src="images/user4.png" alt="avatar" width="40"
                          height="40" />
                          <h6 class="fw-bold mb-1" style="margin-left: -6px; margin-top: -15px;">${name}
                            <mark style="background-color: #8344DB1A; font-weight:lighter; font-size:small; color: #8344DB;">
                                ME
                          </mark>
                            </h6>
                          
                      </span>
                      <p class=" mb-2 pb-1 ps-5" style="margin-top: -15px;color: #646464;">
                        ${commentText}
                      </p>

                        <button class="heart-button ps-5" id="heart-button" onclick="toggleHeart(${cc})">
                        <i id="heart-icon-${cc}" class="bi bi-suit-heart"></i>
                        </button>
                        <span style="margin-left: -5px; font-size: small; " id="heart-count-${cc}" class="counter " id="counter"> 0 
                        </span>
                        <span>&nbsp; &nbsp; • 
                            <button class="btn btn-link" style="font-size: 15px; color:red; text-decoration:none; margin-top: -3px;" onclick="removeComment1(this)">Remove</button></span>
                    </div>
                  </div>
            `;

            commentDiv.innerHTML = commentHTML;

            document.getElementById("comments1").appendChild(commentDiv);

            // Clear the form inputs
        
            document.getElementById("comment").value = "";
        }
         // Function to remove a comment
         function removeComment1(button) {
            const commentDiv = button.parentElement.parentElement.parentElement;
            cc--;
            commentDiv.remove();
        }

        var chk=null;
        var numchk=0;

        function addBox(commentIndex,button) {
            let skip=0;
            
            if(chk==null)
            {
                chk=button;
            }
            else if (chk===button)
            {
                const element = document.getElementById(`but-${commentIndex}`);
                chk=null;
                element.remove();
                skip=1;
            }
            else if (chk!=button)
            {
                
                chk=button;
                console.log(button);

            }
            if (skip==0)
            {

            const replyDiv = document.createElement("div");
            replyDiv.className = "addhere ms-4";
            replyDiv.id = `but-${commentIndex}`;

            const replyHTML = `
            <div class="card rounded-0" style="margin-top: 10px; border:none" >
                    <div class="card-body buttonIn" >
                        
                        <input id="repi" style=" background-color : #EEF2F7; border:none;" type="text" class="form-control" placeholder="Write your comment " >
                        <button class="bubu" type="submit" onclick="addReply2(${commentIndex})">
                            <img src="images/send.svg" />
                          </button>
                    </div>
                  </div>
            `;

            replyDiv.innerHTML = replyHTML;

            document.getElementById(`reply-${commentIndex}`).appendChild(replyDiv);
                }
        }
        function addReply2(commentIndex) {
            const name="Jhone Doe";
            const commentText = document.getElementById("repi").value;
            if (commentText === "") {
                //alert("Please enter your reply.");
                return;
            }


            const commentDiv = document.createElement("div");
            commentDiv.className = "repi ms-3";
            cc++;

            const commentHTML = `
                

                <div class="card rounded-0" style="margin-top: 10px; border:none; margin-bottom: -10px;" >
                    <div class="card-body " >
                      <span class="d-flex flex-start align-items-center" >
                        <img class="rounded-circle shadow-1-strong me-3"
                        src="images/user4.png" alt="avatar" width="40"
                          height="40" />
                          <h6 class="fw-bold mb-1" style="margin-left: -6px; margin-top: -15px;">${name}
                            <mark style="background-color: #8344DB1A; font-weight:lighter; font-size:small; color: #8344DB;">
                                ME
                          </mark>
                            </h6>
                      </span>
                      <p class=" mb-2 pb-1 ps-5" style="margin-top: -15px;color: #646464;">
                        ${commentText}
                      </p>

                        <button class="heart-button ps-5" id="heart-button" onclick="toggleHeart(${cc})">
                        <i id="heart-icon-${cc}" class="bi bi-suit-heart"></i>
                        </button>
                        <span style="margin-left: -5px; font-size: small; " id="heart-count-${cc}" class="counter " id="counter"> 0 
                        </span>
                        <span>&nbsp; &nbsp; • 
                            <button class="btn btn-link" style="font-size: 15px; color:red; text-decoration:none; margin-top: -3px;" onclick="removeComment1(this)">Remove</button></span>
                    </div>
                  </div>
            `;

            commentDiv.innerHTML = commentHTML;

            document.getElementById(`replyhere-${commentIndex}`).appendChild(commentDiv);

            // Clear the form inputs
        
            document.getElementById("repi").value = "";
        }
          
       
    </script>
</body>
</html>
